<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visiting Card Digitiser</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <!-- Tesseract.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- Settings Sidebar Toggle -->
        <button id="settingsBtn" class="settings-toggle" title="Settings">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <!DOCTYPE html>
                <html lang="en">

                <head>
                    <meta charset="UTF-8" />
                    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
                    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                    <title>Visiting Card Digitiser</title>
                    <link rel="stylesheet" href="style.css" />
                    <!-- Google Font: Inter -->
                    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
                        rel="stylesheet" />
                    <!-- Tesseract.js CDN -->
                    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
                </head>

                <body>
                    <div class="container">
                        <!-- Settings Sidebar Toggle -->
                        <button id="settingsBtn" class="settings-toggle" title="Settings">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                                <path
                                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" />
                            </svg>
                        </button>

                        <!-- Settings Sidebar -->
                        <div id="settingsSidebar" class="sidebar glass">
                            <div class="sidebar-header">
                                <h3>Settings</h3>
                                <button id="closeSettings" class="close-btn">&times;</button>
                            </div>
                            <div class="sidebar-content">
                                <p class="sidebar-desc">
                                    Enter your API Key to enable AI-powered extraction.
                                    The key is <strong>never saved</strong> to any server.
                                </p>

                                <!-- Model Selection -->
                                <div class="input-group">
                                    <label for="aiProvider">AI Provider</label>
                                    <select id="aiProvider">
                                        <option value="openai">OpenAI (GPT-4o-mini)</option>
                                        <option value="gemini">Google Gemini (Flash 1.5)</option>
                                        <option value="anthropic">Anthropic (Claude 3 Haiku)</option>
                                    </select>
                                </div>

                                <div class="input-group">
                                    <label for="apiKey">API Key</label>
                                    <input type="password" id="apiKey" placeholder="Paste your key here..."
                                        autocomplete="off">
                                    <div id="keyValidationMsg" class="validation-msg"></div>
                                </div>

                                <!DOCTYPE html>
                                <html lang="en">

                                <head>
                                    <meta charset="UTF-8" />
                                    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
                                    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                                    <title>Visiting Card Digitiser</title>
                                    <link rel="stylesheet" href="style.css" />
                                    <!-- Google Font: Inter -->
                                    <link
                                        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
                                        rel="stylesheet" />
                                    <!-- Tesseract.js CDN -->
                                    <script
                                        src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
                                </head>

                                <body>
                                    <div class="container">
                                        <!-- Settings Sidebar Toggle -->
                                        <button id="settingsBtn" class="settings-toggle" title="Settings">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2">
                                                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                                                <path
                                                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" />
                                            </svg>
                                        </button>

                                        <!-- Settings Sidebar -->
                                        <div id="settingsSidebar" class="sidebar glass">
                                            <div class="sidebar-header">
                                                <h3>Settings</h3>
                                                <button id="closeSettings" class="close-btn">&times;</button>
                                            </div>
                                            <div class="sidebar-content">
                                                <p class="sidebar-desc">
                                                    Enter your API Key to enable AI-powered extraction.
                                                    The key is <strong>never saved</strong> to any server.
                                                </p>

                                                <!-- Model Selection -->
                                                <div class="input-group">
                                                    <label for="aiProvider">AI Provider</label>
                                                    <select id="aiProvider">
                                                        <option value="openai">OpenAI (GPT-4o-mini)</option>
                                                        <option value="gemini">Google Gemini (Flash 1.5)</option>
                                                        <option value="anthropic">Anthropic (Claude 3 Haiku)</option>
                                                    </select>
                                                </div>

                                                <div class="input-group">
                                                    <label for="apiKey">API Key</label>
                                                    <input type="password" id="apiKey"
                                                        placeholder="Paste your key here..." autocomplete="off">
                                                    <div id="keyValidationMsg" class="validation-msg"></div>
                                                </div>

                                                <div class="status-indicator" id="keyStatus">
                                                    <span class="dot"></span> No key provided (Using basic OCR)
                                                </div>
                                            </div>
                                        </div>

                                        <div class="header-section">
                                            <div class="top-links">
                                                <div class="github-container">
                                                    <a href="https://github.com/SaketSinha/VisitingCardDigitiser"
                                                        target="_blank" class="github-link" title="View Source Code">
                                                        <svg height="20" width="20" viewBox="0 0 16 16"
                                                            fill="currentColor">
                                                            <path
                                                                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                                                            </path>
                                                        </svg>
                                                        Open Source (MIT)
                                                    </a>
                                                    <span class="host-msg">Self-host or run locally! ðŸ‘†</span>
                                                </div>
                                            </div>

                                            <a href="https://aiedgebootcamp.com/" target="_blank"
                                                rel="noopener noreferrer" class="logo-link">
                                                <img src="logo.png" alt="AI Edge Bootcamp" class="app-logo">
                                            </a>
                                            <h1>Visiting Card Digitiser</h1>
                                            <p class="privacy-badge">ðŸ”’ Runs 100% locally in your browser. No data is
                                                shared.</p>
                                        </div>

                                        <div class="camera-section glass">
                                            <video id="video" autoplay playsinline></video>

                                            <!-- AI Status Badge -->
                                            <div id="aiStatusBadge" class="ai-badge" title="Click to configure AI">
                                                <span class="icon">âš¡</span>
                                                <span class="text">AI Enhanced Mode: <strong>OFF</strong></span>
                                            </div>

                                            <button id="captureBtn" class="btn">Capture Card</button>
                                            <canvas id="canvas" style="display:none;"></canvas>
                                        </div>

                                        <div class="results-section glass">
                                            <h2>Scanned Cards</h2>
                                            <table id="cardsTable">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Phone(s)</th>
                                                        <th>Email</th>
                                                        <th>Other</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <div class="export-actions">
                                                <button id="exportBtn" class="btn secondary">Download JSON</button>
                                                <button id="exportCsvBtn" class="btn secondary">Download CSV</button>
                                            </div>
                                        </div>

                                        <div class="promo-footer glass">
                                            <div class="promo-content">
                                                <h3>ðŸš€ Build AI apps like this!</h3>
                                                <p class="tagline">A 5-Week AI Bootcamp for Working Professionals. No
                                                    prior coding experience required.
                                                </p>
                                                <div class="promo-details">
                                                    <span>ï¿½ Next Cohort: <strong>Dec 7th, 2025</strong></span>
                                                    <div class="promo-links">
                                                        <a href="https://a-5-week-ai-bootcamp-for-1gwze0x.gamma.site/"
                                                            target="_blank" class="promo-link">ðŸ“„ View Brochure</a>
                                                        <span class="divider">â€¢</span>
                                                        <a href="https://www.aiedgebootcamp.com/joinwaitlist"
                                                            target="_blank" class="promo-link highlight">Join Waitlist
                                                            â†’</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <script src="script.js"></script>
                                </body>

                                </html>