<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visiting Card Digitiser</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <!-- Tesseract.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- Settings Sidebar Toggle -->
        <button id="settingsBtn" class="settings-toggle" title="Settings">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                <path
                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" />
            </svg>
        </button>

        <!-- Settings Sidebar -->
        <div id="settingsSidebar" class="sidebar glass">
            <div class="sidebar-header">
                <h3>Settings</h3>
                <button id="closeSettings" class="close-btn">&times;</button>
            </div>
            <div class="sidebar-content">
                <p class="sidebar-desc">Enter your OpenAI API Key to enable AI-powered extraction. The key is
                    <strong>never saved</strong> to disk.</p>
                <div class="input-group">
                    <label for="apiKey">OpenAI API Key</label>
                    <input type="password" id="apiKey" placeholder="sk-..." autocomplete="off">
                </div>
                <div class="status-indicator" id="keyStatus">
                    <span class="dot"></span> No key provided (Using basic OCR)
                </div>
            </div>
        </div>

        <img src="logo.png" alt="AI Edge Bootcamp" class="app-logo">
        <h1>Visiting Card Digitiser</h1>

        <div class="camera-section glass">
            <video id="video" autoplay playsinline></video>

            <!-- AI Status Badge -->
            <div id="aiStatusBadge" class="ai-badge" title="Click to configure AI">
                <span class="icon">âš¡</span>
                <span class="text">AI Enhanced Mode: <strong>OFF</strong></span>
            </div>

            <button id="captureBtn" class="btn">Capture Card</button>
            <canvas id="canvas" style="display:none;"></canvas>
        </div>

        <div class="results-section glass">
            <h2>Scanned Cards</h2>
            <table id="cardsTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Phone(s)</th>
                        <th>Email</th>
                        <th>Other</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="exportBtn" class="btn">Export JSON</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>